" .ideavimrc is a configuration file for IdeaVim plugin. It uses
"   the same commands as the original .vimrc configuration.
" You can find a list of commands here: https://jb.gg/h38q75
" Find more examples here: https://jb.gg/share-ideavimrc

"" -- Suggested options --
" Show a few lines of context around the cursor. Note that this makes the
" text scroll if you mouse-click near the start or end of the window.
set scrolloff=5

" Do incremental searching.
set incsearch

" Don't use Ex mode, use Q for formatting.
map Q gq

" --- Enable IdeaVim plugins https://jb.gg/ideavim-plugins

"" -- Map IDE actions to IdeaVim -- https://jb.gg/abva4t
"" Map \r to the Reformat Code action
"map \r <Action>(ReformatCode)

"" Map <leader>d to start debug
"map <leader>d <Action>(Debug)

"" Map \b to toggle the breakpoint on the current line
"map \b <Action>(ToggleLineBreakpoint)

" ------ Mine konfigurasjoner --------------
" Setter leader som mellomrom
let mapleader = ' '

" Fjerner standard funksjon for mellomrom
map <Space> <Nop>

" sync clipboard
set clipboard=unnamed,unnamedplus

" jump between angle brackets
set matchpairs+=<:>

" highlight search
set hlsearch

" remove search highlight
nmap <Esc> :nohlsearch<CR>

" case insensitive search
set ignorecase

" enable case-sensitive search when a capital letter is used
set smartcase

" map leader + e to Run code
map <leader>e :action Run<CR>
map <leader>rc :action ChooseRunConfiguration<CR>
map <leader>k :action Stop<CR>

" mapping to show code actions
nnoremap <leader>ca :action ShowIntentionActions<CR>

" generate
nnoremap <leader>g :action Generate<CR>

" Ã¥pne copilot chat
nnoremap <leader>cp :action copilot.chat.show<CR>

" open terminal
nnoremap <leader>ot :action ActivateTerminalToolWindow<CR>

" open services
nnoremap <leader>os :action ActivateServicesToolWindow<CR>

" open maven
nnoremap <leader>om :action ActivateMavenToolWindow<CR>

" show hover info
map <leader>sh :action ShowHoverInfo<CR>

" open nerdtree
nnoremap <leader>t :NERDTreeToggle<CR>
nnoremap <leader>n :NERDTreeFocus<CR>

nnoremap <leader>v :action SplitVertically<CR>
nnoremap <leader>h :action SplitHorizontally<CR>
nnoremap <leader>xs :action CloseContent<CR>:action Unsplit<CR>
nnoremap <leader>xa :action UnsplitAll<CR>

" jump between splits
map <C-j> <C-w>j
map <C-k> <C-w>k
map <C-h> <C-w>h
map <C-l> <C-w>l

" center after code jump
map n nzzzv
map N Nzzzv
map <C-d> <C-d>zz
map <C-u> <C-u>zz

" buffer navigation
nnoremap <Tab> :bnext<CR>
nnoremap <S-Tab> :bprevious<CR>

" resize with arrows
nmap <Up> :action ResizeToolWindowUp<CR>
nmap <Down> :action ResizeToolWindowDown<CR>
nnoremap <Left> :action ResizeToolWindowLeft<CR>
nnoremap <Right> :action ResizeToolWindowRight<CR>

" zen mode
nnoremap <leader>z :action ToggleZenMode<CR>

" finn filer
nmap <leader>ff <action>(GotoFile)
nmap <leader>fc <action>(GotoClass)
nmap <leader>fs <action>(GotoSymbol)
nmap <leader>fa <action>(GotoAction)
nmap <leader>gd <action>(GotoFileDeclaration)
nmap <leader>gy <action>(GotoTypeDeclaration)
nmap <leader>gi <action>(GotoImplementation)

" vis kilde / implementasjon
nmap <leader>vs <action>(ViewSource)
nmap <leader>im <action>(QuickImplementations)
nmap <leader>td <action>(QuickTypeDefinition)

" search / replace
map <C-f> <action>(Find)
" map <C-r> <action>(Replace)

" refactoring
nmap <leader>rn <action>(RenameElement)
nmap <leader>rr <action>(Refactorings.QuickListPopupAction)

" surround
map <leader>sw <action>(SurroundWith)

" jump between errors
map <leader>en <action>(GotoNextError)
map <leader>ep <action>(GotoPreviousError)

" formatting
map <leader><leader> <action>(ReformatCode)

" move lines / statements
map <A-j> <action>(MoveLineDown)
map <A-k> <action>(MoveLineUp)
map <A-S-j> <action>(MoveStatementDown)
map <A-S-k> <action>(MoveStatementUp)

let g:highlightedyank_highlight_duration = '2000'

" mine plugins
" Plug 'easymotion/vim-easymotion'
Plug 'preservim/nerdtree'
Plug 'machakann/vim-highlightedyank'
Plug 'tpope/vim-commentary'
set which-key
" set quickscope
set ideajoin
